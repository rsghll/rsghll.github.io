<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>RabbitMQ能为你做些什么？</title>
      <link href="2020/09/13/rabbitmq-neng-zuo-shi-me/"/>
      <url>2020/09/13/rabbitmq-neng-zuo-shi-me/</url>
      
        <content type="html"><![CDATA[<h2 id="RabbitMQ能为你做些什么？"><a href="#RabbitMQ能为你做些什么？" class="headerlink" title="RabbitMQ能为你做些什么？"></a>RabbitMQ能为你做些什么？</h2><p><strong>消息队列中间件是分布式系统中重要的组件，主要解决应用解耦，异步消息，流量削锋等问题，实现高性能，高可用，可伸缩和最终一致性架构。目前使用较多的消息队列有ActiveMQ，RabbitMQ，ZeroMQ，Kafka，MetaMQ，RocketMQ。</strong></p><p><strong>RabbitMQ 是一个由 Erlang 语言开发的 AMQP 的开源实现。</strong></p><p><strong>rabbitMQ是一款基于AMQP协议的消息中间件，它能够在应用之间提供可靠的消息传输。在易用性，扩展性，高可用性上表现优秀。使用消息中间件利于应用之间的解耦，生产者（客户端）无需知道消费者（服务端）的存在。而且两端可以使用不同的语言编写，大大提供了灵活性。</strong></p><p><strong>消息系统允许软件、应用相互连接和扩展．这些应用可以相互链接起来组成一个更大的应用，或者将用户设备和数据进行连接．消息系统通过将消息的发送和接收分离来实现应用程序的异步和解偶．</strong></p><p>或许你正在考虑进行数据投递，非阻塞操作或推送通知。或许你想要实现发布／订阅，异步处理，或者工作队列。所有这些都可以通过消息系统实现。</p><p>RabbitMQ是一个消息代理 - 一个消息系统的媒介。它可以为你的应用提供一个通用的消息发送和接收平台，并且保证消息在传输过程中的安全。</p><h2 id="技术亮点"><a href="#技术亮点" class="headerlink" title="技术亮点"></a>技术亮点</h2><h3 id="可靠性"><a href="#可靠性" class="headerlink" title="可靠性"></a>可靠性</h3><p>RabbitMQ提供了多种技术可以让你在性能和可靠性之间进行权衡。这些技术包括持久性机制、投递确认、发布者证实和高可用性机制。</p><h3 id="灵活的路由"><a href="#灵活的路由" class="headerlink" title="灵活的路由"></a>灵活的路由</h3><p>消息在到达队列前是通过交换机进行路由的。RabbitMQ为典型的路由逻辑提供了多种内置交换机类型。如果你有更复杂的路由需求，可以将这些交换机组合起来使用，你甚至可以实现自己的交换机类型，并且当做RabbitMQ的插件来使用。</p><h3 id="集群"><a href="#集群" class="headerlink" title="集群"></a>集群</h3><p>在相同局域网中的多个RabbitMQ服务器可以聚合在一起，作为一个独立的逻辑代理来使用。</p><h3 id="联合"><a href="#联合" class="headerlink" title="联合"></a>联合</h3><p>对于服务器来说，它比集群需要更多的松散和非可靠链接。为此RabbitMQ提供了联合模型。</p><h3 id="高可用的队列"><a href="#高可用的队列" class="headerlink" title="高可用的队列"></a>高可用的队列</h3><p>在同一个集群里，队列可以被镜像到多个机器中，以确保当其中某些硬件出现故障后，你的消息仍然安全。</p><h3 id="多协议"><a href="#多协议" class="headerlink" title="多协议"></a>多协议</h3><p>RabbitMQ 支持多种消息协议的消息传递。</p><h3 id="广泛的客户端"><a href="#广泛的客户端" class="headerlink" title="广泛的客户端"></a>广泛的客户端</h3><p>只要是你能想到的编程语言几乎都有与其相适配的RabbitMQ客户端。</p><h3 id="可视化管理工具"><a href="#可视化管理工具" class="headerlink" title="可视化管理工具"></a>可视化管理工具</h3><p>RabbitMQ附带了一个易于使用的可视化管理工具，它可以帮助你监控消息代理的每一个环节。</p><h3 id="追踪"><a href="#追踪" class="headerlink" title="追踪"></a>追踪</h3><p>如果你的消息系统有异常行为，RabbitMQ还提供了追踪的支持，让你能够发现问题所在。</p><h3 id="插件系统"><a href="#插件系统" class="headerlink" title="插件系统"></a>插件系统</h3><p>RabbitMQ附带了各种各样的插件来对自己进行扩展。你甚至也可以写自己的插件来使用。</p><h2 id="还有什么呢…"><a href="#还有什么呢…" class="headerlink" title="还有什么呢…"></a>还有什么呢…</h2><h3 id="商业支持"><a href="#商业支持" class="headerlink" title="商业支持"></a>商业支持</h3><p>可以提供商业支持，包括培训和咨询。</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> MQ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis集群</title>
      <link href="2020/09/12/redis-ji-qun/"/>
      <url>2020/09/12/redis-ji-qun/</url>
      
        <content type="html"><![CDATA[<h4 id="redis集群"><a href="#redis集群" class="headerlink" title="redis集群:"></a>redis集群:</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 创建集群, 启动6个redis实例, 集群至少要3个节点, 每个节点必须是主从结构</span><span class="token comment" spellcheck="true"># 配置如下:  复制6份, 修改端口号</span>port <span class="token number">7000</span>  <span class="token comment" spellcheck="true"># 端口</span>bind <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span>   <span class="token comment" spellcheck="true"># 这里换成自己的ip</span>daemonize yes  <span class="token comment" spellcheck="true"># 后台运行, 不占用终端</span>pidfile <span class="token number">7000.</span>pid  <span class="token comment" spellcheck="true"># pid保存文件名</span>cluster<span class="token operator">-</span>enabled yes  <span class="token comment" spellcheck="true"># 集群模式</span>cluster<span class="token operator">-</span>config<span class="token operator">-</span>file 7000_node<span class="token punctuation">.</span>conf  <span class="token comment" spellcheck="true"># 集群配置保存文件名</span>cluster<span class="token operator">-</span>node<span class="token operator">-</span>timeout <span class="token number">15000</span>  <span class="token comment" spellcheck="true"># 节点超时时间(毫秒)</span>appendonly yes  <span class="token comment" spellcheck="true"># 所有的写操作都追加到日志中</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 启动6个redis节点</span>redis<span class="token operator">-</span>server <span class="token number">7000.</span>confredis<span class="token operator">-</span>server <span class="token number">7001.</span>confredis<span class="token operator">-</span>server <span class="token number">7002.</span>confredis<span class="token operator">-</span>server <span class="token number">7003.</span>confredis<span class="token operator">-</span>server <span class="token number">7004.</span>confredis<span class="token operator">-</span>server <span class="token number">7005.</span>conf</code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 复制 集群管理工具 到系统路径, 方便调用工具</span>sudo cp <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>doc<span class="token operator">/</span>redis<span class="token operator">-</span>tools<span class="token operator">/</span>examples<span class="token operator">/</span>redis<span class="token operator">-</span>trib<span class="token punctuation">.</span>rb <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span class="token operator">/</span><span class="token comment" spellcheck="true"># 使用集群配置工具, 把6个节点配置成集群模式,  --replicas 1 表示每个主节点有一个从节点</span>redis<span class="token operator">-</span>trib<span class="token punctuation">.</span>rb create <span class="token operator">-</span><span class="token operator">-</span>replicas <span class="token number">1</span> <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span><span class="token punctuation">:</span><span class="token number">7000</span> <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span><span class="token punctuation">:</span><span class="token number">7001</span> <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span><span class="token punctuation">:</span><span class="token number">7002</span> <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span><span class="token punctuation">:</span><span class="token number">7003</span> <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span><span class="token punctuation">:</span><span class="token number">7004</span> <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span><span class="token punctuation">:</span><span class="token number">7005</span><span class="token comment" spellcheck="true"># 使用命令行工具测试集群</span>redis<span class="token operator">-</span>cli <span class="token operator">-</span>c <span class="token operator">-</span>h <span class="token number">10.211</span><span class="token punctuation">.</span><span class="token number">55.15</span> <span class="token operator">-</span>p <span class="token number">7000</span>   <span class="token comment" spellcheck="true"># -c 表示集群模式</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 安装依赖包</span>django<span class="token operator">-</span>cluster<span class="token operator">-</span>redis<span class="token operator">==</span> <span class="token number">1.0</span><span class="token punctuation">.</span><span class="token number">5</span>django<span class="token operator">-</span>redis<span class="token operator">==</span> <span class="token number">4.10</span><span class="token punctuation">.</span><span class="token number">0</span>redis<span class="token operator">==</span> <span class="token number">3.0</span><span class="token punctuation">.</span><span class="token number">1</span>  <span class="token comment" spellcheck="true"># 注意这个版本</span>redis<span class="token operator">-</span>py<span class="token operator">-</span>cluster<span class="token operator">==</span> <span class="token number">2.0</span><span class="token punctuation">.</span><span class="token number">0</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 配置cache</span>CACHES <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django_redis.cache.RedisCache'</span><span class="token punctuation">,</span>        <span class="token string">'LOCATION'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token string">"redis://10.211.55.15:7000"</span><span class="token punctuation">,</span>            <span class="token string">"redis://10.211.55.15:7001"</span><span class="token punctuation">,</span>            <span class="token string">"redis://10.211.55.15:7002"</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token string">'OPTIONS'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string">'REDIS_CLIENT_CLASS'</span><span class="token punctuation">:</span> <span class="token string">'rediscluster.RedisCluster'</span><span class="token punctuation">,</span>            <span class="token string">'CONNECTION_POOL_CLASS'</span><span class="token punctuation">:</span> <span class="token string">'rediscluster.connection.ClusterConnectionPool'</span><span class="token punctuation">,</span>            <span class="token string">"CONNECTION_POOL_KWARGS"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"decode_responses"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true"># 测试django-redis 集群模式, 集群模式不支持切换库编号</span><span class="token keyword">from</span> django_redis <span class="token keyword">import</span> get_redis_connectionredis_client <span class="token operator">=</span> get_redis_connection<span class="token punctuation">(</span><span class="token punctuation">)</span>redis_client<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'祖安人'</span><span class="token punctuation">)</span>redis_client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span></code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>相思啊！</title>
      <link href="2020/09/12/xiang-si/"/>
      <url>2020/09/12/xiang-si/</url>
      
        <content type="html"><![CDATA[<h3 id="相思"><a href="#相思" class="headerlink" title="相思"></a>相思</h3><p><a href="https://hanyu.baidu.com/s?wd=%E7%8E%8B%E7%BB%B4">                        【作者】王维 </a>【朝代】唐</p><p>红豆生南国，春来发几枝。</p><p>愿君多采撷，此物最相思。</p><p>标签:   <a href="https://hanyu.baidu.com/s?ptype=poem_tag&amp;about=%E6%83%85%E6%84%9F">情感</a>    <a href="https://hanyu.baidu.com/s?ptype=poem_tag&amp;about=%E5%92%8F%E7%89%A9">咏物</a>     <a href="https://hanyu.baidu.com/s?ptype=poem_tag&amp;about=%E5%94%90%E8%AF%97%E4%B8%89%E7%99%BE%E9%A6%96">唐诗三百首</a>    <a href="https://hanyu.baidu.com/s?ptype=poem_tag&amp;about=%E6%80%9D%E5%BF%B5">思念</a>    <a href="https://hanyu.baidu.com/s?ptype=poem_tag&amp;about=%E6%8A%92%E6%83%85">抒情</a></p><p><a href="javascript:"><strong>译文</strong></a> <a href="javascript:"><strong>注释</strong></a></p><p>鲜红浑圆的红豆，生长在阳光明媚的南方，春暖花开的季节，不知又生出多少？希望思念的人儿多多采集，小小红豆引人相思。</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 诗词歌赋 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/09/12/hello-world/"/>
      <url>2020/09/12/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
